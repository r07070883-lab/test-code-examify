<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Exam Planner</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --bg:#050814;
  --card:#0e1333;
  --accent:#00eaff;
  --accent2:#6c5ce7;
  --danger:#ff4d4d;
  --warn:#ffb84d;
  --good:#4dff88;
}

*{box-sizing:border-box;font-family:Poppins,Arial}
body{
  margin:0;
  background:radial-gradient(circle at top,#0b1026,var(--bg));
  color:white;
}
.container{max-width:1200px;margin:auto;padding:20px}
h1,h2{margin-bottom:15px}

/* ---------- CARDS ---------- */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
  gap:20px;
}
.card{
  background:linear-gradient(145deg,#0e1333,#080c24);
  padding:18px;
  border-radius:18px;
  box-shadow:0 10px 30px rgba(0,0,0,.5);
  transition:.3s;
}
.card:hover{transform:translateY(-5px)}
.card h3{margin:0}
.card p{opacity:.8;font-size:14px}

/* ---------- COUNTDOWN ---------- */
.countdown{margin:10px 0;font-weight:600}
.good{color:var(--good)}
.warn{color:var(--warn)}
.danger{color:var(--danger)}

/* ---------- BUTTONS ---------- */
.btn{
  padding:8px 14px;
  border:none;
  border-radius:20px;
  cursor:pointer;
  font-weight:600;
  margin-right:6px;
}
.view{
  background:#1a1f4a;
  color:white;
}
.add{
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  color:black;
  box-shadow:0 0 15px rgba(0,234,255,.7);
}
.added{
  background:#333;
  color:#aaa;
}

/* ---------- DETAIL VIEW ---------- */
#detailView{
  display:none;
  animation:fade .4s ease;
}
@keyframes fade{
  from{opacity:0;transform:translateY(20px)}
  to{opacity:1}
}

/* Progress Ring */
.progress{
  width:160px;height:160px;margin:20px auto;position:relative;
}
.progress svg{transform:rotate(-90deg)}
.progress-text{
  position:absolute;inset:0;
  display:flex;align-items:center;justify-content:center;
  font-size:28px;font-weight:700;
}

/* Steps */
.steps{
  background:#0d1230;
  padding:16px;
  border-radius:14px;
}
.steps li{margin-bottom:8px}

.back{margin-top:20px}
</style>
</head>

<body>
<div class="container">

<h1>All Exams</h1>
<div id="examGrid" class="grid"></div>

<h2 style="margin-top:40px">My Exams</h2>
<div id="myGrid" class="grid"></div>

<!-- DETAIL VIEW -->
<div id="detailView">
  <h2 id="detailTitle"></h2>

  <div class="progress">
    <svg width="160" height="160">
      <circle cx="80" cy="80" r="70" stroke="#222" stroke-width="12" fill="none"/>
      <circle id="progCircle" cx="80" cy="80" r="70"
        stroke="url(#g)" stroke-width="12" fill="none"
        stroke-dasharray="440" stroke-dashoffset="440"/>
      <defs>
        <linearGradient id="g">
          <stop offset="0%" stop-color="#00eaff"/>
          <stop offset="100%" stop-color="#6c5ce7"/>
        </linearGradient>
      </defs>
    </svg>
    <div class="progress-text" id="progText">0%</div>
  </div>

  <ul class="steps">
    <li>✔ Create account</li>
    <li>✔ Fill details</li>
    <li>⏳ Upload documents</li>
    <li>⏳ Pay fees</li>
  </ul>

  <button class="btn view back" onclick="closeDetail()">⬅ Back</button>
</div>

</div>

<script>
const exams=[
  {id:1,name:"JEE Main",cat:"Engineering",date:"2026-01-20"},
  {id:2,name:"JEE Advanced",cat:"Engineering",date:"2026-05-26"},
  {id:3,name:"UCEED",cat:"Design",date:"2026-01-18"},
  {id:4,name:"NEET",cat:"Medical",date:"2026-05-05"}
];

let myExams=JSON.parse(localStorage.getItem("myExams")||"[]");

const grid=document.getElementById("examGrid");
const myGrid=document.getElementById("myGrid");

/* Utils */
function daysLeft(d){
  return Math.ceil((new Date(d)-new Date())/86400000);
}
function cls(d){
  if(d<30) return "danger";
  if(d<90) return "warn";
  return "good";
}

/* Render All Exams */
function renderAll(){
  grid.innerHTML="";
  exams.forEach(e=>{
    const d=daysLeft(e.date);
    grid.innerHTML+=`
      <div class="card">
        <h3>${e.name}</h3>
        <p>${e.cat}</p>
        <div class="countdown ${cls(d)}">${d} days left</div>
        <button class="btn view" onclick="viewDetail('${e.name}')">View Details</button>
        <button class="btn ${myExams.includes(e.id)?"added":"add"}"
          onclick="addExam(${e.id})">
          ${myExams.includes(e.id)?"Added":"Add to My Exams"}
        </button>
      </div>`;
  });
  renderMy();
}

/* Add Exam */
function addExam(id){
  if(!myExams.includes(id)){
    myExams.push(id);
    localStorage.setItem("myExams",JSON.stringify(myExams));
    renderAll();
  }
}

/* My Exams */
function renderMy(){
  myGrid.innerHTML="";
  exams.filter(e=>myExams.includes(e.id)).forEach(e=>{
    myGrid.innerHTML+=`
      <div class="card">
        <h3>${e.name}</h3>
        <div class="countdown">${daysLeft(e.date)} days left</div>
        <button class="btn view" onclick="viewDetail('${e.name}')">View Details</button>
      </div>`;
  });
}

/* Detail */
function viewDetail(name){
  document.getElementById("detailTitle").innerText=name;
  document.getElementById("detailView").style.display="block";
  window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"});

  const p=Math.floor(Math.random()*40+40);
  document.getElementById("progText").innerText=p+"%";
  document.getElementById("progCircle").style.strokeDashoffset=
    440-(440*p/100);
}

function closeDetail(){
  document.getElementById("detailView").style.display="none";
}

renderAll();
</script>
</body>
</html>
